Section,Panel Index,Panel Name,Query Index,Display Name,Metric,Query
"Request Traffic & Health: Client → Router",0,"Volume of Requests Per Status Code",0,"query1","http.server.request.duration","count:http.server.request.duration{$service,$env,$version} by {http.response.status_code}.as_count()"
"Request Traffic & Health: Client → Router",1,"Throughput: Requests Per Second",0,"query1","http.server.request.duration","count:http.server.request.duration{$service,$env,$version}.as_count()"
"Request Traffic & Health: Client → Router",2,"Error Rate Percent",0,"query1","http.server.request.duration","count:http.server.request.duration{$service,$env,$version,graphql.errors:true}.as_count()"
"Request Traffic & Health: Client → Router",2,"Error Rate Percent",1,"query2","http.server.request.duration","count:http.server.request.duration{$service,$env,$version,!http.response.status_code:2*,!http.response.status_code:4*}.as_count()"
"Request Traffic & Health: Client → Router",2,"Error Rate Percent",2,"query3","http.server.request.duration","count:http.server.request.duration{$service,$env,$version}.as_count()"
"Request Traffic & Health: Client → Router",3,"GraphQL Errors by Operation",0,"query1","unknown",""
" Request Characteristics: Client → Router",4,"Request Body Size (p99 / Max)",0,"query1","http.server.request.body.size","max:http.server.request.body.size{$service,$env,$version}"
" Request Characteristics: Client → Router",4,"Request Body Size (p99 / Max)",1,"query2","http.server.request.body.size","p99:http.server.request.body.size{$service,$env,$version}"
"Request Performance & Latency: Client → Router",6,"Request Duration Percentiles",0,"query2","http.server.request.duration","p99:http.server.request.duration{$service,$env,$version}"
"Request Performance & Latency: Client → Router",6,"Request Duration Percentiles",1,"query3","http.server.request.duration","p95:http.server.request.duration{$service,$env,$version}"
"Request Performance & Latency: Client → Router",6,"Request Duration Percentiles",2,"query4","http.server.request.duration","p90:http.server.request.duration{$service,$env,$version}"
"Request Performance & Latency: Client → Router",6,"Request Duration Percentiles",3,"query5","http.server.request.duration","min:http.server.request.duration{$service,$env,$version}"
"Request Performance & Latency: Client → Router",6,"Request Duration Percentiles",4,"query6","http.server.request.duration","max:http.server.request.duration{$service,$env,$version}"
"Request Traffic & Health: Router → Backend",7,"Http Requests by Status Code",0,"query1","http.client.request.duration","count:http.client.request.duration{$service,$env,$version,!connector.source.name:*} by {http.response.status_code,subgraph.name}.as_count()"
"Request Traffic & Health: Router → Backend",7,"Http Requests by Status Code",1,"query2","http.client.request.duration","count:http.client.request.duration{$service,$env,$version,connector.source.name:*} by {http.response.status_code,subgraph.name,connector.source.name}.as_count()"
"Request Traffic & Health: Router → Backend",8,"Throughput (Requests per Second)",0,"query1","http.client.request.duration","count:http.client.request.duration{$service,$env,$version,!connector.source.name:*} by {subgraph.name}.as_rate()"
"Request Traffic & Health: Router → Backend",8,"Throughput (Requests per Second)",1,"query2","http.client.request.duration","count:http.client.request.duration{$service,$env,$version,connector.source.name:*} by {subgraph.name,connector.source.name}.as_rate()"
"Request Traffic & Health: Router → Backend",9,"Non-2xx Responses",0,"query1","http.client.request.duration","count:http.client.request.duration{subgraph.name:*,!http.response.status_code:2*,$service,$env,$version,!connector.source.name:*} by {subgraph.name,http.response.status_code}.as_count()"
"Request Traffic & Health: Router → Backend",9,"Non-2xx Responses",1,"query2","http.client.request.duration","count:http.client.request.duration{subgraph.name:*,!http.response.status_code:2*,$service,$env,$version,connector.source.name:*} by {subgraph.name,http.response.status_code,connector.source.name}.as_count()"
" Request Characteristics: Router → Backend",10,"Response Body Size",0,"query4","http.client.response.body.size","avg:http.client.response.body.size{$service,$env,$version,!connector.source.name:*} by {subgraph.name}.as_count()"
" Request Characteristics: Router → Backend",10,"Response Body Size",1,"query1","http.client.response.body.size","avg:http.client.response.body.size{$service,$env,$version,connector.source.name:*} by {subgraph.name,connector.source.name}.as_count()"
"Request Performance & Latency: Router → Backend",11,"P95 Latency by Subgraph",0,"query1","http.client.request.duration","p95:http.client.request.duration{$service,$env,$version,!connector.source.name:*} by {subgraph.name}"
"Request Performance & Latency: Router → Backend",11,"P95 Latency by Subgraph",1,"query2","http.client.request.duration","p95:http.client.request.duration{$service,$env,$version,connector.source.name:*} by {subgraph.name,connector.source.name}"
"Request Performance & Latency: Router → Backend",12,"GraphQL Errors by Subgraph",0,"query1","sum","sum:http.client.request.duration{$service,$env,$version,!connector.source.name:*, graphql.errors:true} by {subgraph.name}.as_count()"
"Query Planning",14,"Duration and Wait Time",0,"query2","apollo.router.compute_jobs.execution.duration","avg:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_planning}"
"Query Planning",14,"Duration and Wait Time",1,"query1","apollo.router.compute_jobs.execution.duration","p95:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_planning}"
"Query Planning",14,"Duration and Wait Time",2,"query3","apollo.router.compute_jobs.execution.duration","max:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_planning}"
"Query Planning",14,"Duration and Wait Time",3,"query4","apollo.router.compute_jobs.queue.wait.duration","avg:apollo.router.compute_jobs.queue.wait.duration{$service,$env,$version,job.type:query_planning}"
"Query Planning",14,"Duration and Wait Time",4,"query5","apollo.router.compute_jobs.queue.wait.duration","max:apollo.router.compute_jobs.queue.wait.duration{$service,$env,$version,job.type:query_planning}"
"Query Planning",14,"Duration and Wait Time",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Query Planning",14,"Duration and Wait Time",0,"query1","apollo.router.query_planning.warmup.duration","count:apollo.router.query_planning.warmup.duration{$service,$env,$version}"
"Query Planning",15,"Evaluated Plans",0,"query2","apollo.router.query_planning.plan.evaluated_plans","avg:apollo.router.query_planning.plan.evaluated_plans{$service,$env, $version}"
"Query Planning",15,"Evaluated Plans",1,"query1","apollo.router.query_planning.plan.evaluated_plans","max:apollo.router.query_planning.plan.evaluated_plans{$service,$env, $version}"
"Query Planning",15,"Evaluated Plans",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Query Planning",15,"Evaluated Plans",0,"query1","apollo.router.query_planning.warmup.duration","count:apollo.router.query_planning.warmup.duration{$service,$env,$version}"
"Cache",16,"Misses vs. Record Count",0,"query1","apollo.router.cache.miss.time","count:apollo.router.cache.miss.time{$service,$env,$version}"
"Cache",16,"Misses vs. Record Count",0,"query0","apollo.router.cache.size","avg:apollo.router.cache.size{$service,$env,$version}"
"Cache",16,"Misses vs. Record Count",0,"query0","apollo.router.cache.hit.time","count:apollo.router.cache.hit.time{$service,$env,$version}"
"Cache",16,"Misses vs. Record Count",1,"query1","apollo.router.cache.miss.time","count:apollo.router.cache.miss.time{$service,$env,$version}"
"Cache",16,"Misses vs. Record Count",0,"query1","apollo.router.query_planning.warmup.duration","count:apollo.router.query_planning.warmup.duration{$service,$env,$version}"
"Cache",16,"Misses vs. Record Count",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Cache",17,"Record Counts by Instance",0,"query1","apollo.router.cache.size","avg:apollo.router.cache.size{$service,$env,$version} by {host,pod_name,container_id}"
"Cache",17,"Record Counts by Instance",0,"query1","apollo.router.query_planning.warmup.duration","count:apollo.router.query_planning.warmup.duration{$service,$env,$version}"
"Cache",17,"Record Counts by Instance",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Cache",18,"Record Counts by Type",0,"query1","sum","sum:apollo.router.cache.size{$service,$env,$version} by {kind,version}"
"Cache",19,"Misses by Type",0,"query1","apollo.router.cache.miss.time","count:apollo.router.cache.miss.time{$service,$env,$version} by {kind,version}"
"Cache",20,"Hit % by Instance",0,"query0","apollo.router.cache.hit.time","count:apollo.router.cache.hit.time{$service,$env,$version} by {host,pod_name,container_id}"
"Cache",20,"Hit % by Instance",1,"query1","apollo.router.cache.miss.time","count:apollo.router.cache.miss.time{$service,$env,$version} by {host,pod_name,container_id}"
"Compute Jobs",21,"Query Planning Duration Percentiles and Wait Time",0,"query1","apollo.router.compute_jobs.execution.duration","p50:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_planning}"
"Compute Jobs",21,"Query Planning Duration Percentiles and Wait Time",1,"query3","apollo.router.compute_jobs.execution.duration","p95:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_planning}"
"Compute Jobs",21,"Query Planning Duration Percentiles and Wait Time",2,"query2","apollo.router.compute_jobs.execution.duration","p99:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_planning}"
"Compute Jobs",21,"Query Planning Duration Percentiles and Wait Time",3,"query4","apollo.router.compute_jobs.queue.wait.duration","avg:apollo.router.compute_jobs.queue.wait.duration{$service,$env,$version,job.type:query_planning}"
"Compute Jobs",21,"Query Planning Duration Percentiles and Wait Time",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Compute Jobs",21,"Query Planning Duration Percentiles and Wait Time",0,"query1","apollo.router.query_planning.warmup.duration","count:apollo.router.query_planning.warmup.duration{$service,$env,$version}"
"Compute Jobs",22,"Query Parsing Duration Percentiles and Wait Time",0,"query1","apollo.router.compute_jobs.execution.duration","p50:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_parsing}"
"Compute Jobs",22,"Query Parsing Duration Percentiles and Wait Time",1,"query3","apollo.router.compute_jobs.execution.duration","p95:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_parsing}"
"Compute Jobs",22,"Query Parsing Duration Percentiles and Wait Time",2,"query2","apollo.router.compute_jobs.execution.duration","p99:apollo.router.compute_jobs.execution.duration{$service,$env,$version,job.type:query_parsing}"
"Compute Jobs",22,"Query Parsing Duration Percentiles and Wait Time",3,"query4","apollo.router.compute_jobs.queue.wait.duration","avg:apollo.router.compute_jobs.queue.wait.duration{$service,$env,$version,job.type:query_parsing}"
"Compute Jobs",22,"Query Parsing Duration Percentiles and Wait Time",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Compute Jobs",22,"Query Parsing Duration Percentiles and Wait Time",0,"query1","apollo.router.query_planning.warmup.duration","count:apollo.router.query_planning.warmup.duration{$service,$env,$version}"
"Compute Jobs",23,"Queued Jobs",0,"query1","sum","sum:apollo.router.compute_jobs.queued{$service,$env,$version}"
"Compute Jobs",23,"Queued Jobs",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Compute Jobs",24,"Job Counts by Outcome",0,"query1","apollo.router.compute_jobs.duration","count:apollo.router.compute_jobs.duration{$service,$env,$version} by {job.outcome}.as_count()"
"Compute Jobs",24,"Job Counts by Outcome",0,"query1","apollo.router.schema.load.duration","count:apollo.router.schema.load.duration{$service,$env,$version}"
"Container/Host",25,"Kubernetes CPU Usage",0,"query1","kubernetes.cpu.usage.total","avg:kubernetes.cpu.usage.total{$service,$env,$version}"
"Container/Host",25,"Kubernetes CPU Usage",1,"query2","kubernetes.cpu.usage.total","max:kubernetes.cpu.usage.total{$service,$env,$version}"
"Container/Host",25,"Kubernetes CPU Usage",0,"query0","kubernetes.cpu.limits","max:kubernetes.cpu.limits{$service,$env,$version}"
"Container/Host",25,"Kubernetes CPU Usage",1,"query1","kubernetes.cpu.limits","min:kubernetes.cpu.limits{$service,$env,$version}"
"Container/Host",26,"Host CPU Usage (OTEL Collector - Hostmetrics)",0,"query2","system.cpu.stolen","avg:system.cpu.stolen{$service,$env,$version}"
"Container/Host",26,"Host CPU Usage (OTEL Collector - Hostmetrics)",1,"query1","system.cpu.iowait","avg:system.cpu.iowait{$service,$env,$version}"
"Container/Host",26,"Host CPU Usage (OTEL Collector - Hostmetrics)",2,"query3","system.cpu.system","avg:system.cpu.system{$service,$env,$version}"
"Container/Host",26,"Host CPU Usage (OTEL Collector - Hostmetrics)",3,"query4","system.cpu.user","avg:system.cpu.user{$service,$env,$version}"
"Container/Host",26,"Host CPU Usage (OTEL Collector - Hostmetrics)",4,"query5","system.cpu.idle","avg:system.cpu.idle{$service,$env,$version}"
"Container/Host",27,"Docker CPU Usage (Datadog Docker Agent)",0,"query3","docker.cpu.usage","avg:docker.cpu.usage{$service,$env,$version}"
"Container/Host",27,"Docker CPU Usage (Datadog Docker Agent)",1,"query1","docker.cpu.usage","max:docker.cpu.usage{$service,$env,$version}"
"Container/Host",27,"Docker CPU Usage (Datadog Docker Agent)",0,"query0","docker.cpu.limit","avg:docker.cpu.limit{$service,$env,$version}"
"Container/Host",28,"Docker CPU Usage (OTEL Collector  - Docker/stats)",0,"query1","container.cpu.usage.total","avg:container.cpu.usage.total{$service,$env,$version}"
"Container/Host",28,"Docker CPU Usage (OTEL Collector  - Docker/stats)",1,"query2","container.cpu.usage.total","max:container.cpu.usage.total{$service,$env,$version}"
"Container/Host",28,"Docker CPU Usage (OTEL Collector  - Docker/stats)",0,"query0","container.cpu.limit","min:container.cpu.limit{$service,$env,$version}"
"Container/Host",28,"Docker CPU Usage (OTEL Collector  - Docker/stats)",1,"query1","container.cpu.limit","max:container.cpu.limit{$service,$env,$version}"
"Container/Host",29,"Kubernetes Memory Usage",0,"query1","kubernetes.memory.usage","avg:kubernetes.memory.usage{$service,$env,$version}"
"Container/Host",29,"Kubernetes Memory Usage",1,"query2","kubernetes.memory.usage","max:kubernetes.memory.usage{$service,$env,$version}"
"Container/Host",29,"Kubernetes Memory Usage",0,"query0","kubernetes.memory.limits","min:kubernetes.memory.limits{$service,$env,$version}"
"Container/Host",29,"Kubernetes Memory Usage",1,"query1","kubernetes.memory.limits","max:kubernetes.memory.limits{$service,$env,$version}"
"Container/Host",30,"Host Memory Usage (OTEL Collector - Hostmetrics)",0,"query1","system.mem.used","avg:system.mem.used{$service,$env,$version}"
"Container/Host",30,"Host Memory Usage (OTEL Collector - Hostmetrics)",1,"query2","system.mem.used","max:system.mem.used{$service,$env,$version}"
"Container/Host",30,"Host Memory Usage (OTEL Collector - Hostmetrics)",0,"query0","system.mem.total","min:system.mem.total{$service,$env,$version}"
"Container/Host",30,"Host Memory Usage (OTEL Collector - Hostmetrics)",1,"query1","system.mem.total","max:system.mem.total{$service,$env,$version}"
"Container/Host",31,"Docker Memory Usage (Datadog Docker Agent)",0,"query1","docker.mem.in_use","avg:docker.mem.in_use{$service,$env,$version}"
"Container/Host",31,"Docker Memory Usage (Datadog Docker Agent)",1,"query2","docker.mem.in_use","max:docker.mem.in_use{$service,$env,$version}"
"Container/Host",31,"Docker Memory Usage (Datadog Docker Agent)",0,"query0","docker.mem.limit","avg:docker.mem.limit{$service,$env,$version}"
"Container/Host",32,"Docker Memory Usage (OTEL Collector  - Docker/stats)",0,"query1","container.memory.usage.total","avg:container.memory.usage.total{$service,$env,$version}"
"Container/Host",32,"Docker Memory Usage (OTEL Collector  - Docker/stats)",1,"query2","container.memory.usage.total","max:container.memory.usage.total{$service,$env,$version}"
"Container/Host",32,"Docker Memory Usage (OTEL Collector  - Docker/stats)",0,"query0","container.memory.usage.limit","avg:container.memory.usage.limit{$service,$env,$version}"
"Coprocessors",33,"Request Duration",0,"query1","apollo.router.operations.coprocessor.duration","avg:apollo.router.operations.coprocessor.duration{$service,$env,$version} by {coprocessor.stage}"
"Coprocessors",34,"Request Count",0,"query0","sum","sum:apollo.router.operations.coprocessor{$service,$env,$version} by {coprocessor.stage}.as_count()"
"Coprocessors",35,"Success Rate",0,"query0","sum","sum:apollo.router.operations.coprocessor{$service,$env,$version,coprocessor.succeeded:true} by {coprocessor.stage}.as_count()"
"Coprocessors",35,"Success Rate",1,"query1","sum","sum:apollo.router.operations.coprocessor{$service,$env,$version} by {coprocessor.stage}.as_count()"
"Sentinel Metrics",36,"Uplink and Licensing",0,"query1","apollo.router.uplink.fetch.duration.seconds","avg:apollo.router.uplink.fetch.duration.seconds{$service,$env,$version}"
"Sentinel Metrics",36,"Uplink and Licensing",0,"query1","sum","sum:apollo.router.lifecycle.license{$service,$env,$version,license.state:licensed}"
"Sentinel Metrics",36,"Uplink and Licensing",1,"query2","sum","sum:apollo.router.lifecycle.license{$service,$env,$version}"
"Sentinel Metrics",37,"Open Connections by Schema and Launch ID",0,"query1","apollo.router.open_connections","avg:apollo.router.open_connections{$service,$env,$version} by {schema.id,launch.id}"
"Sentinel Metrics",38,"Router Relative Overhead",0,"query6","http.server.request.duration","avg:http.server.request.duration{$service,$env}"
"Sentinel Metrics",38,"Router Relative Overhead",1,"query2","apollo.router.compute_jobs.duration","avg:apollo.router.compute_jobs.duration{$service,$env}"
"Sentinel Metrics",38,"Router Relative Overhead",2,"query5","apollo.router.operations.coprocessor.duration","avg:apollo.router.operations.coprocessor.duration{$service,$env}"
"Sentinel Metrics",38,"Router Relative Overhead",3,"query4","http.client.request.duration","avg:http.client.request.duration{$service,$env}"
"Sentinel Metrics",38,"Router Relative Overhead",4,"query3","http.server.request.duration","count:http.server.request.duration{$service,$env}.as_rate()"