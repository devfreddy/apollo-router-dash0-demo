Section,Panel Index,Panel Name,Query Index,Display Name,Metric,Query
"Request Traffic & Health: Client → Router",1,"Volume of Requests Per Status Code",0,"By Http response status_code","http.server.request.duration","histogram_sum(sum by (http_status_code) (increase({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Traffic & Health: Client → Router",2,"Throughput: Requests Per Second",0,"Total","http.server.request.duration","histogram_sum(sum(increase({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Traffic & Health: Client → Router",5,"Error Rate Percent",0,"Total","http.server.request.duration","histogram_sum(sum(increase({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram"", graphql_errors=""true""}[2m])))"
"Request Traffic & Health: Client → Router",5,"Error Rate Percent",1,"Total","http.server.request.duration","histogram_sum(sum(increase({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram"", http_status_code!~""2.*"", http_status_code!~""4.*""}[2m])))"
"Request Traffic & Health: Client → Router",5,"Error Rate Percent",2,"Total","http.server.request.duration","histogram_sum(sum(increase({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
" Request Characteristics: Client → Router",8,"Request Body Size (p99 / Max)",0,"Max","http.server.request.body.size","histogram_avg(sum(rate({otel_metric_name = ""http.server.request.body.size"", otel_metric_type = ""histogram""}[2m])))"
" Request Characteristics: Client → Router",8,"Request Body Size (p99 / Max)",1,"P99","http.server.request.body.size","histogram_quantile(0.99, sum(rate({otel_metric_name = ""http.server.request.body.size"", otel_metric_type = ""histogram""}[2m])))"
"Request Performance & Latency: Client → Router",11,"Request Duration Percentiles",0,"P99","http.server.request.duration","histogram_quantile(0.99, sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Performance & Latency: Client → Router",11,"Request Duration Percentiles",1,"P95","http.server.request.duration","histogram_quantile(0.95, sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Performance & Latency: Client → Router",11,"Request Duration Percentiles",2,"P90","http.server.request.duration","histogram_quantile(0.9, sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Performance & Latency: Client → Router",11,"Request Duration Percentiles",3,"Min","http.server.request.duration","histogram_avg(sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Performance & Latency: Client → Router",11,"Request Duration Percentiles",4,"Max","http.server.request.duration","histogram_avg(sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m])))"
"Request Traffic & Health: Router → Backend",15,"Http Requests by Status Code",0,"By status_code, name","http.client.request.duration","histogram_sum(sum by (http_status_code, subgraph_name) (increase({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name!~"".*""}[2m])))"
"Request Traffic & Health: Router → Backend",15,"Http Requests by Status Code",1,"By status_code, name, name","http.client.request.duration","histogram_sum(sum by (http_status_code, subgraph_name, connector_source_name) (increase({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name=~"".*""}[2m])))"
"Request Traffic & Health: Router → Backend",16,"Throughput (Requests per Second)",0,"By Subgraph name","http.client.request.duration","sum by (subgraph_name) (rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name!~"".*""}[2m]))"
"Request Traffic & Health: Router → Backend",16,"Throughput (Requests per Second)",1,"By name, name","http.client.request.duration","sum by (subgraph_name, connector_source_name) (rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name=~"".*""}[2m]))"
"Request Traffic & Health: Router → Backend",19,"Non-2xx Responses",0,"By name, status_code","http.client.request.duration","histogram_sum(sum by (subgraph_name, http_status_code) (increase({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", subgraph_name=~"".*"", http_status_code!~""2.*"", connector_source_name!~"".*""}[2m])))"
"Request Traffic & Health: Router → Backend",19,"Non-2xx Responses",1,"By name, status_code, name","http.client.request.duration","histogram_sum(sum by (subgraph_name, http_status_code, connector_source_name) (increase({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", subgraph_name=~"".*"", http_status_code!~""2.*"", connector_source_name=~"".*""}[2m])))"
" Request Characteristics: Router → Backend",21,"Response Body Size",0,"By Subgraph name","http.client.response.body.size","histogram_avg(sum by (subgraph_name) (rate({otel_metric_name = ""http.client.response.body.size"", otel_metric_type = ""histogram"", connector_source_name!~"".*""}[2m])))"
" Request Characteristics: Router → Backend",21,"Response Body Size",1,"By name, name","http.client.response.body.size","histogram_avg(sum by (subgraph_name, connector_source_name) (rate({otel_metric_name = ""http.client.response.body.size"", otel_metric_type = ""histogram"", connector_source_name=~"".*""}[2m])))"
"Request Performance & Latency: Router → Backend",24,"P95 Latency by Subgraph",0,"By Subgraph name","http.client.request.duration","histogram_quantile(0.95, sum by (subgraph_name, le) (rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name!~"".*""}[2m])))"
"Request Performance & Latency: Router → Backend",24,"P95 Latency by Subgraph",1,"By name, name","http.client.request.duration","histogram_quantile(0.95, sum by (subgraph_name, connector_source_name, le) (rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name=~"".*""}[2m])))"
"Request Performance & Latency: Router → Backend",25,"GraphQL Errors by Subgraph",0,"By Subgraph name","http.client.request.duration","histogram_sum(sum by (subgraph_name) (rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", connector_source_name!~"".*"", graphql_errors=""true""}[2m])))"
"Query Planning",32,"Duration and Wait Time",0,"Avg","apollo.router.compute_jobs.execution.duration","histogram_avg(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m]))"
"Query Planning",32,"Duration and Wait Time",1,"P95","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.95, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m])))"
"Query Planning",32,"Duration and Wait Time",2,"Max","apollo.router.compute_jobs.execution.duration","histogram_avg(sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m])))"
"Query Planning",32,"Duration and Wait Time",3,"Avg","apollo.router.compute_jobs.queue.wait.duration","histogram_avg(rate({otel_metric_name = ""apollo.router.compute_jobs.queue.wait.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m]))"
"Query Planning",32,"Duration and Wait Time",4,"Max","apollo.router.compute_jobs.queue.wait.duration","histogram_avg(sum(rate({otel_metric_name = ""apollo.router.compute_jobs.queue.wait.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m])))"
"Query Planning",33,"Evaluated Plans",0,"Avg","apollo.router.query_planning.plan.evaluated_plans","histogram_avg(rate({otel_metric_name = ""apollo.router.query_planning.plan.evaluated_plans"", otel_metric_type = ""histogram""}[2m]))"
"Query Planning",33,"Evaluated Plans",1,"Max","apollo.router.query_planning.plan.evaluated_plans","histogram_avg(sum(rate({otel_metric_name = ""apollo.router.query_planning.plan.evaluated_plans"", otel_metric_type = ""histogram""}[2m])))"
"Cache",37,"Misses vs. Record Count",0,"Total","apollo.router.cache.miss.time","sum(rate({otel_metric_name = ""apollo.router.cache.miss.time"", otel_metric_type = ""histogram""}[2m]))"
"Cache",38,"Record Counts by Instance",0,"By host, pod_name, container_id","apollo.router.cache.size","avg by (dash0_resource_name, dash0_resource_name, dash0_resource_id) ({otel_metric_name = ""apollo.router.cache.size"", otel_metric_type = ""gauge""})"
"Cache",41,"Record Counts by Type",0,"By kind, version","apollo.router.cache.size","sum by (kind, version) ({otel_metric_name = ""apollo.router.cache.size"", otel_metric_type = ""gauge""})"
"Cache",42,"Misses by Type",0,"By kind, version","apollo.router.cache.miss.time","sum by (kind, version) (rate({otel_metric_name = ""apollo.router.cache.miss.time"", otel_metric_type = ""histogram""}[2m]))"
"Cache",45,"Hit % by Instance",0,"By host, pod_name, container_id","apollo.router.cache.hit.time","sum by (dash0_resource_name, dash0_resource_name, dash0_resource_id) (rate({otel_metric_name = ""apollo.router.cache.hit.time"", otel_metric_type = ""histogram""}[2m]))"
"Cache",45,"Hit % by Instance",1,"By host, pod_name, container_id","apollo.router.cache.miss.time","sum by (dash0_resource_name, dash0_resource_name, dash0_resource_id) (rate({otel_metric_name = ""apollo.router.cache.miss.time"", otel_metric_type = ""histogram""}[2m]))"
"Compute Jobs",48,"Query Planning Duration Percentiles and Wait Time",0,"P50","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.5, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m])))"
"Compute Jobs",48,"Query Planning Duration Percentiles and Wait Time",1,"P95","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.95, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m])))"
"Compute Jobs",48,"Query Planning Duration Percentiles and Wait Time",2,"P99","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.99, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m])))"
"Compute Jobs",48,"Query Planning Duration Percentiles and Wait Time",3,"Avg","apollo.router.compute_jobs.queue.wait.duration","histogram_avg(rate({otel_metric_name = ""apollo.router.compute_jobs.queue.wait.duration"", otel_metric_type = ""histogram"", job_type=""query_planning""}[2m]))"
"Compute Jobs",49,"Query Parsing Duration Percentiles and Wait Time",0,"P50","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.5, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_parsing""}[2m])))"
"Compute Jobs",49,"Query Parsing Duration Percentiles and Wait Time",1,"P95","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.95, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_parsing""}[2m])))"
"Compute Jobs",49,"Query Parsing Duration Percentiles and Wait Time",2,"P99","apollo.router.compute_jobs.execution.duration","histogram_quantile(0.99, sum(rate({otel_metric_name = ""apollo.router.compute_jobs.execution.duration"", otel_metric_type = ""histogram"", job_type=""query_parsing""}[2m])))"
"Compute Jobs",49,"Query Parsing Duration Percentiles and Wait Time",3,"Avg","apollo.router.compute_jobs.queue.wait.duration","histogram_avg(rate({otel_metric_name = ""apollo.router.compute_jobs.queue.wait.duration"", otel_metric_type = ""histogram"", job_type=""query_parsing""}[2m]))"
"Compute Jobs",52,"Queued Jobs",0,"Sum","apollo.router.compute_jobs.queued","sum({otel_metric_name = ""apollo.router.compute_jobs.queued"", otel_metric_type = ""gauge""})"
"Compute Jobs",53,"Job Counts by Outcome",0,"By Job outcome","apollo.router.compute_jobs.duration","histogram_sum(sum by (job_outcome) (increase({otel_metric_name = ""apollo.router.compute_jobs.duration"", otel_metric_type = ""histogram""}[2m])))"
"Container/Host",57,"Kubernetes CPU Usage",0,"Avg","kubernetes.cpu.usage.total","avg({otel_metric_name = ""kubernetes.cpu.usage.total"", otel_metric_type = ""sum""})"
"Container/Host",57,"Kubernetes CPU Usage",1,"Max","kubernetes.cpu.usage.total","max(rate({otel_metric_name = ""kubernetes.cpu.usage.total"", otel_metric_type = ""sum""}[2m]))"
"Container/Host",58,"Host CPU Usage (OTEL Collector - Hostmetrics)",0,"Avg","system.cpu.stolen","avg({otel_metric_name = ""system.cpu.stolen"", otel_metric_type = ""gauge""})"
"Container/Host",58,"Host CPU Usage (OTEL Collector - Hostmetrics)",1,"Avg","system.cpu.iowait","avg({otel_metric_name = ""system.cpu.iowait"", otel_metric_type = ""gauge""})"
"Container/Host",58,"Host CPU Usage (OTEL Collector - Hostmetrics)",2,"Avg","system.cpu.system","avg({otel_metric_name = ""system.cpu.system"", otel_metric_type = ""gauge""})"
"Container/Host",58,"Host CPU Usage (OTEL Collector - Hostmetrics)",3,"Avg","system.cpu.user","avg({otel_metric_name = ""system.cpu.user"", otel_metric_type = ""gauge""})"
"Container/Host",58,"Host CPU Usage (OTEL Collector - Hostmetrics)",4,"Avg","system.cpu.idle","avg({otel_metric_name = ""system.cpu.idle"", otel_metric_type = ""gauge""})"
"Container/Host",59,"Docker CPU Usage (Datadog Docker Agent)",0,"Avg","docker.cpu.usage","avg({otel_metric_name = ""docker.cpu.usage"", otel_metric_type = ""gauge""})"
"Container/Host",59,"Docker CPU Usage (Datadog Docker Agent)",1,"Max","docker.cpu.usage","max({otel_metric_name = ""docker.cpu.usage"", otel_metric_type = ""gauge""})"
"Container/Host",60,"Docker CPU Usage (OTEL Collector  - Docker/stats)",0,"Avg","container.cpu.usage.total","avg({otel_metric_name = ""container.cpu.usage.total"", otel_metric_type = ""sum""})"
"Container/Host",60,"Docker CPU Usage (OTEL Collector  - Docker/stats)",1,"Max","container.cpu.usage.total","max(rate({otel_metric_name = ""container.cpu.usage.total"", otel_metric_type = ""sum""}[2m]))"
"Container/Host",61,"Kubernetes Memory Usage",0,"Avg","kubernetes.memory.usage","avg({otel_metric_name = ""kubernetes.memory.usage"", otel_metric_type = ""gauge""})"
"Container/Host",61,"Kubernetes Memory Usage",1,"Max","kubernetes.memory.usage","max({otel_metric_name = ""kubernetes.memory.usage"", otel_metric_type = ""gauge""})"
"Container/Host",62,"Host Memory Usage (OTEL Collector - Hostmetrics)",0,"Avg","system.mem.used","avg({otel_metric_name = ""system.mem.used"", otel_metric_type = ""gauge""})"
"Container/Host",62,"Host Memory Usage (OTEL Collector - Hostmetrics)",1,"Max","system.mem.used","max({otel_metric_name = ""system.mem.used"", otel_metric_type = ""gauge""})"
"Container/Host",63,"Docker Memory Usage (Datadog Docker Agent)",0,"Avg","docker.mem.in_use","avg({otel_metric_name = ""docker.mem.in_use"", otel_metric_type = ""gauge""})"
"Container/Host",63,"Docker Memory Usage (Datadog Docker Agent)",1,"Max","docker.mem.in_use","max({otel_metric_name = ""docker.mem.in_use"", otel_metric_type = ""gauge""})"
"Container/Host",64,"Docker Memory Usage (OTEL Collector  - Docker/stats)",0,"Avg","container.memory.usage.total","avg({otel_metric_name = ""container.memory.usage.total"", otel_metric_type = ""sum""})"
"Container/Host",64,"Docker Memory Usage (OTEL Collector  - Docker/stats)",1,"Max","container.memory.usage.total","max(rate({otel_metric_name = ""container.memory.usage.total"", otel_metric_type = ""sum""}[2m]))"
"Coprocessors",70,"Request Duration",0,"By Coprocessor stage","apollo.router.operations.coprocessor.duration","histogram_avg(sum by (coprocessor_stage) (rate({otel_metric_name = ""apollo.router.operations.coprocessor.duration"", otel_metric_type = ""histogram""}[2m])))"
"Coprocessors",71,"Request Count",0,"By Coprocessor stage","apollo.router.operations.coprocessor","sum by (coprocessor_stage) (rate({otel_metric_name = ""apollo.router.operations.coprocessor"", otel_metric_type = ""sum""}[2m]))"
"Coprocessors",74,"Success Rate",0,"By Coprocessor stage","apollo.router.operations.coprocessor","sum by (coprocessor_stage) (rate({otel_metric_name = ""apollo.router.operations.coprocessor"", otel_metric_type = ""sum"", coprocessor_succeeded=""true""}[2m]))"
"Coprocessors",74,"Success Rate",1,"By Coprocessor stage","apollo.router.operations.coprocessor","sum by (coprocessor_stage) (rate({otel_metric_name = ""apollo.router.operations.coprocessor"", otel_metric_type = ""sum""}[2m]))"
"Sentinel Metrics",77,"Uplink and Licensing",0,"Avg","apollo.router.uplink.fetch.duration.seconds","histogram_avg(rate({otel_metric_name = ""apollo.router.uplink.fetch.duration.seconds"", otel_metric_type = ""histogram""}[2m]))"
"Sentinel Metrics",78,"Open Connections by Schema and Launch ID",0,"By id, id","apollo.router.open_connections","avg by (schema_id, launch_id) ({otel_metric_name = ""apollo.router.open_connections"", otel_metric_type = ""gauge""})"
"Sentinel Metrics",81,"Router Relative Overhead",0,"Avg","http.server.request.duration","histogram_avg(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m]))"
"Sentinel Metrics",81,"Router Relative Overhead",1,"Avg","apollo.router.compute_jobs.duration","histogram_avg(rate({otel_metric_name = ""apollo.router.compute_jobs.duration"", otel_metric_type = ""histogram""}[2m]))"
"Sentinel Metrics",81,"Router Relative Overhead",2,"Avg","apollo.router.operations.coprocessor.duration","histogram_avg(rate({otel_metric_name = ""apollo.router.operations.coprocessor.duration"", otel_metric_type = ""histogram""}[2m]))"
"Sentinel Metrics",81,"Router Relative Overhead",3,"Avg","http.client.request.duration","histogram_avg(rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram""}[2m]))"
"Sentinel Metrics",81,"Router Relative Overhead",4,"Total","http.server.request.duration","sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m]))"
"Resource Estimator",84,"Average Request Rate",0,"Total","http.server.request.duration","sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m]))"
"Resource Estimator",85,"Peak Request Rate",0,"Total","http.server.request.duration","sum(rate({otel_metric_name = ""http.server.request.duration"", otel_metric_type = ""histogram""}[2m]))"
"Resource Estimator",86,"Baseline Subgraph Latency",0,"Avg","http.client.request.duration","histogram_avg(sum by (subgraph_name) (rate({otel_metric_name = ""http.client.request.duration"", otel_metric_type = ""histogram"", subgraph_name=~"".*""}[2m])))"
"Resource Estimator",87,"Average Client Request Size",0,"Avg","http.client.request.body.size","histogram_avg(rate({otel_metric_name = ""http.client.request.body.size"", otel_metric_type = ""histogram""}[2m]))"
"Resource Estimator",88,"Average Client Response Size",0,"Avg","http.client.response.body.size","histogram_avg(rate({otel_metric_name = ""http.client.response.body.size"", otel_metric_type = ""histogram""}[2m]))"